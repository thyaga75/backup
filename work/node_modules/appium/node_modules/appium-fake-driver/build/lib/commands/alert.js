'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _Object$assign = require('babel-runtime/core-js/object/assign')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _mobileJsonWireProtocol = require('mobile-json-wire-protocol');

var commands = {},
    helpers = {},
    extensions = {};

helpers.assertNoAlert = function () {
  if (this.appModel.hasAlert()) {
    throw new _mobileJsonWireProtocol.errors.UnexpectedAlertOpenError();
  }
};

helpers.assertAlert = function () {
  if (!this.appModel.hasAlert()) {
    throw new _mobileJsonWireProtocol.errors.NoAlertOpenError();
  }
};

commands.getAlertText = function callee$0$0() {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        return context$1$0.abrupt('return', this.appModel.alertText());

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.setAlertText = function callee$0$0(text) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        context$1$0.prev = 1;

        this.appModel.setAlertText(text);
        context$1$0.next = 8;
        break;

      case 5:
        context$1$0.prev = 5;
        context$1$0.t0 = context$1$0['catch'](1);
        throw new _mobileJsonWireProtocol.errors.InvalidElementStateError();

      case 8:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this, [[1, 5]]);
};

commands.postAcceptAlert = function callee$0$0() {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        this.appModel.handleAlert();

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.postDismissAlert = commands.postAcceptAlert;

_Object$assign(extensions, commands, helpers);
exports.commands = commands;
exports.helpers = helpers;
exports['default'] = extensions;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9hbGVydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3NDQUF1QiwyQkFBMkI7O0FBRWxELElBQUksUUFBUSxHQUFHLEVBQUU7SUFBRSxPQUFPLEdBQUcsRUFBRTtJQUFFLFVBQVUsR0FBRyxFQUFFLENBQUM7O0FBRWpELE9BQU8sQ0FBQyxhQUFhLEdBQUcsWUFBWTtBQUNsQyxNQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUU7QUFDNUIsVUFBTSxJQUFJLCtCQUFPLHdCQUF3QixFQUFFLENBQUM7R0FDN0M7Q0FDRixDQUFDOztBQUVGLE9BQU8sQ0FBQyxXQUFXLEdBQUcsWUFBWTtBQUNoQyxNQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsRUFBRTtBQUM3QixVQUFNLElBQUksK0JBQU8sZ0JBQWdCLEVBQUUsQ0FBQztHQUNyQztDQUNGLENBQUM7O0FBRUYsUUFBUSxDQUFDLFlBQVksR0FBRzs7OztBQUN0QixZQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7NENBQ1osSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7Ozs7Ozs7Q0FDakMsQ0FBQzs7QUFFRixRQUFRLENBQUMsWUFBWSxHQUFHLG9CQUFnQixJQUFJOzs7O0FBQzFDLFlBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7O0FBRWpCLFlBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7Ozs7O2NBRTNCLElBQUksK0JBQU8sd0JBQXdCLEVBQUU7Ozs7Ozs7Q0FFOUMsQ0FBQzs7QUFFRixRQUFRLENBQUMsZUFBZSxHQUFHOzs7O0FBQ3pCLFlBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNuQixZQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDOzs7Ozs7O0NBQzdCLENBQUM7O0FBRUYsUUFBUSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7O0FBRXJELGVBQWMsVUFBVSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxRQUFRLEdBQVIsUUFBUTtRQUFFLE9BQU8sR0FBUCxPQUFPO3FCQUNYLFVBQVUiLCJmaWxlIjoibGliL2NvbW1hbmRzL2FsZXJ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3JzIH0gZnJvbSAnbW9iaWxlLWpzb24td2lyZS1wcm90b2NvbCc7XG5cbmxldCBjb21tYW5kcyA9IHt9LCBoZWxwZXJzID0ge30sIGV4dGVuc2lvbnMgPSB7fTtcblxuaGVscGVycy5hc3NlcnROb0FsZXJ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hcHBNb2RlbC5oYXNBbGVydCgpKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5VbmV4cGVjdGVkQWxlcnRPcGVuRXJyb3IoKTtcbiAgfVxufTtcblxuaGVscGVycy5hc3NlcnRBbGVydCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmFwcE1vZGVsLmhhc0FsZXJ0KCkpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLk5vQWxlcnRPcGVuRXJyb3IoKTtcbiAgfVxufTtcblxuY29tbWFuZHMuZ2V0QWxlcnRUZXh0ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICB0aGlzLmFzc2VydEFsZXJ0KCk7XG4gIHJldHVybiB0aGlzLmFwcE1vZGVsLmFsZXJ0VGV4dCgpO1xufTtcblxuY29tbWFuZHMuc2V0QWxlcnRUZXh0ID0gYXN5bmMgZnVuY3Rpb24gKHRleHQpIHtcbiAgdGhpcy5hc3NlcnRBbGVydCgpO1xuICB0cnkge1xuICAgIHRoaXMuYXBwTW9kZWwuc2V0QWxlcnRUZXh0KHRleHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5JbnZhbGlkRWxlbWVudFN0YXRlRXJyb3IoKTtcbiAgfVxufTtcblxuY29tbWFuZHMucG9zdEFjY2VwdEFsZXJ0ID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICB0aGlzLmFzc2VydEFsZXJ0KCk7XG4gIHRoaXMuYXBwTW9kZWwuaGFuZGxlQWxlcnQoKTtcbn07XG5cbmNvbW1hbmRzLnBvc3REaXNtaXNzQWxlcnQgPSBjb21tYW5kcy5wb3N0QWNjZXB0QWxlcnQ7XG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgY29tbWFuZHMsIGhlbHBlcnMpO1xuZXhwb3J0IHsgY29tbWFuZHMsIGhlbHBlcnMgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXX0=