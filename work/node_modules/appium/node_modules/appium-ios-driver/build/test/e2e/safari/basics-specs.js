'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _setupBase = require("../setup-base");

var _setupBase2 = _interopRequireDefault(_setupBase);

var _helpersEnv = require('../helpers/env');

var _helpersEnv2 = _interopRequireDefault(_helpersEnv);

describe('safari - basics @skip-real-device', function () {
  if (!(_helpersEnv2['default'].IOS8 || _helpersEnv2['default'].IOS9) && _helpersEnv2['default'].IOS80) {
    return describe('default init', function () {
      var _this = this;

      var driver = (0, _setupBase2['default'])(this, { browserName: 'safari' }).driver;

      it('it should use safari default init page', function callee$2$0() {
        return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
          while (1) switch (context$3$0.prev = context$3$0.next) {
            case 0:
              context$3$0.next = 2;
              return _regeneratorRuntime.awrap(driver.getPageSource());

            case 2:
              context$3$0.sent.should.include('Apple');

            case 3:
            case 'end':
              return context$3$0.stop();
          }
        }, null, _this);
      });
    });
  }

  describe('default init', function () {
    var _this2 = this;

    var driver = (0, _setupBase2['default'])(this, { browserName: 'safari' }).driver;

    it('it should use appium default init page', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.getPageSource());

          case 2:
            context$3$0.sent.should.include('Let\'s browse!');

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this2);
    });
  });

  describe('init with safariInitialUrl', function () {
    var _this3 = this;

    var driver = (0, _setupBase2['default'])(this, {
      browserName: 'safari',
      safariInitialUrl: _helpersEnv2['default'].GUINEA_TEST_END_POINT
    }).driver;

    it('should go to the requested page', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.getPageSource());

          case 2:
            context$3$0.sent.should.include('I am some page content');

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this3);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3NhZmFyaS9iYXNpY3Mtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3lCQUFrQixlQUFlOzs7OzBCQUNqQixnQkFBZ0I7Ozs7QUFFaEMsUUFBUSxDQUFDLG1DQUFtQyxFQUFFLFlBQVc7QUFDdkQsTUFBSSxFQUFFLHdCQUFJLElBQUksSUFBSSx3QkFBSSxJQUFJLENBQUEsQUFBQyxJQUFJLHdCQUFJLEtBQUssRUFBRTtBQUN4QyxXQUFPLFFBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBVzs7O0FBQ3pDLFVBQU0sTUFBTSxHQUFHLDRCQUFNLElBQUksRUFBRSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQzs7QUFFN0QsUUFBRSxDQUFDLHdDQUF3QyxFQUFFOzs7OzsrQ0FDcEMsTUFBTSxDQUFDLGFBQWEsRUFBRTs7OytCQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTzs7Ozs7OztPQUN0RCxDQUFDLENBQUM7S0FDSixDQUFDLENBQUM7R0FDSjs7QUFFRCxVQUFRLENBQUMsY0FBYyxFQUFFLFlBQVc7OztBQUNsQyxRQUFNLE1BQU0sR0FBRyw0QkFBTSxJQUFJLEVBQUUsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUM7O0FBRTdELE1BQUUsQ0FBQyx3Q0FBd0MsRUFBRTs7Ozs7NkNBQ3BDLE1BQU0sQ0FBQyxhQUFhLEVBQUU7Ozs2QkFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLGdCQUFnQjs7Ozs7OztLQUMvRCxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLDRCQUE0QixFQUFFLFlBQVc7OztBQUNoRCxRQUFNLE1BQU0sR0FBRyw0QkFBTSxJQUFJLEVBQUU7QUFDekIsaUJBQVcsRUFBRSxRQUFRO0FBQ3JCLHNCQUFnQixFQUFFLHdCQUFJLHFCQUFxQjtLQUM1QyxDQUFDLENBQUMsTUFBTSxDQUFDOztBQUVWLE1BQUUsQ0FBQyxpQ0FBaUMsRUFBRTs7Ozs7NkNBQzdCLE1BQU0sQ0FBQyxhQUFhLEVBQUU7Ozs2QkFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLHdCQUF3Qjs7Ozs7OztLQUN2RSxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvc2FmYXJpL2Jhc2ljcy1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXR1cCBmcm9tIFwiLi4vc2V0dXAtYmFzZVwiO1xuaW1wb3J0IGVudiBmcm9tICcuLi9oZWxwZXJzL2Vudic7XG5cbmRlc2NyaWJlKCdzYWZhcmkgLSBiYXNpY3MgQHNraXAtcmVhbC1kZXZpY2UnLCBmdW5jdGlvbigpIHtcbiAgaWYgKCEoZW52LklPUzggfHwgZW52LklPUzkpICYmIGVudi5JT1M4MCkge1xuICAgIHJldHVybiBkZXNjcmliZSgnZGVmYXVsdCBpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBkcml2ZXIgPSBzZXR1cCh0aGlzLCB7IGJyb3dzZXJOYW1lOiAnc2FmYXJpJyB9KS5kcml2ZXI7XG5cbiAgICAgIGl0KCdpdCBzaG91bGQgdXNlIHNhZmFyaSBkZWZhdWx0IGluaXQgcGFnZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgKGF3YWl0IGRyaXZlci5nZXRQYWdlU291cmNlKCkpLnNob3VsZC5pbmNsdWRlKCdBcHBsZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBkZXNjcmliZSgnZGVmYXVsdCBpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgZHJpdmVyID0gc2V0dXAodGhpcywgeyBicm93c2VyTmFtZTogJ3NhZmFyaScgfSkuZHJpdmVyO1xuXG4gICAgaXQoJ2l0IHNob3VsZCB1c2UgYXBwaXVtIGRlZmF1bHQgaW5pdCBwYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGF3YWl0IGRyaXZlci5nZXRQYWdlU291cmNlKCkpLnNob3VsZC5pbmNsdWRlKCdMZXRcXCdzIGJyb3dzZSEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2luaXQgd2l0aCBzYWZhcmlJbml0aWFsVXJsJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgZHJpdmVyID0gc2V0dXAodGhpcywge1xuICAgICAgYnJvd3Nlck5hbWU6ICdzYWZhcmknLFxuICAgICAgc2FmYXJpSW5pdGlhbFVybDogZW52LkdVSU5FQV9URVNUX0VORF9QT0lOVFxuICAgIH0pLmRyaXZlcjtcblxuICAgIGl0KCdzaG91bGQgZ28gdG8gdGhlIHJlcXVlc3RlZCBwYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGF3YWl0IGRyaXZlci5nZXRQYWdlU291cmNlKCkpLnNob3VsZC5pbmNsdWRlKCdJIGFtIHNvbWUgcGFnZSBjb250ZW50Jyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=