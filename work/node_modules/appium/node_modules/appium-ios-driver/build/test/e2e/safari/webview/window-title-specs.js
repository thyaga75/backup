/* globals expect */
'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _desired = require('./desired');

var _desired2 = _interopRequireDefault(_desired);

var _setupBase = require('../../setup-base');

var _setupBase2 = _interopRequireDefault(_setupBase);

var _helpersWebview = require('../../helpers/webview');

describe("safari - webview - window title", function () {
  var _this = this;

  var driver = (0, _setupBase2['default'])(this, _desired2['default'], { 'no-reset': true }).driver;
  beforeEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap((0, _helpersWebview.loadWebView)(_desired2['default'], driver));

        case 2:
          return context$2$0.abrupt('return', context$2$0.sent);

        case 3:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  it('should return a valid title on web view', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      var _this2 = this;

      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.title());

        case 2:
          context$2$0.sent.should.include("I am a page title");
          context$2$0.next = 5;
          return _regeneratorRuntime.awrap(driver.setContext('NATIVE_APP'));

        case 5:
          expect(function callee$2$0() {
            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.next = 2;
                  return _regeneratorRuntime.awrap(driver.title());

                case 2:
                  return context$3$0.abrupt('return', context$3$0.sent);

                case 3:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, _this2);
          }).to['throw'];

        case 6:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3NhZmFyaS93ZWJ2aWV3L3dpbmRvdy10aXRsZS1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3VCQUNvQixXQUFXOzs7O3lCQUNiLGtCQUFrQjs7Ozs4QkFDUix1QkFBdUI7O0FBRW5ELFFBQVEsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFZOzs7QUFDdEQsTUFBTSxNQUFNLEdBQUcsNEJBQU0sSUFBSSx3QkFBVyxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUMvRCxZQUFVLENBQUM7Ozs7OzJDQUFrQix1REFBcUIsTUFBTSxDQUFDOzs7Ozs7Ozs7O0dBQUEsQ0FBQyxDQUFDOztBQUUzRCxJQUFFLENBQUMseUNBQXlDLEVBQUU7Ozs7Ozs7MkNBQ3JDLE1BQU0sQ0FBQyxLQUFLLEVBQUU7OzsyQkFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLG1CQUFtQjs7MkNBRW5ELE1BQU0sQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDOzs7QUFDckMsZ0JBQU0sQ0FBQzs7Ozs7bURBQWtCLE1BQU0sQ0FBQyxLQUFLLEVBQUU7Ozs7Ozs7Ozs7V0FBQSxDQUFDLENBQUMsRUFBRSxTQUFNLENBQUM7Ozs7Ozs7R0FDbkQsQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvZTJlL3NhZmFyaS93ZWJ2aWV3L3dpbmRvdy10aXRsZS1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgZXhwZWN0ICovXG5pbXBvcnQgZGVzaXJlZCBmcm9tICcuL2Rlc2lyZWQnO1xuaW1wb3J0IHNldHVwIGZyb20gJy4uLy4uL3NldHVwLWJhc2UnO1xuaW1wb3J0IHsgbG9hZFdlYlZpZXcgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3dlYnZpZXcnO1xuXG5kZXNjcmliZShcInNhZmFyaSAtIHdlYnZpZXcgLSB3aW5kb3cgdGl0bGVcIiwgZnVuY3Rpb24gKCkge1xuICBjb25zdCBkcml2ZXIgPSBzZXR1cCh0aGlzLCBkZXNpcmVkLCB7J25vLXJlc2V0JzogdHJ1ZX0pLmRyaXZlcjtcbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiBhd2FpdCBsb2FkV2ViVmlldyhkZXNpcmVkLCBkcml2ZXIpKTtcblxuICBpdCgnc2hvdWxkIHJldHVybiBhIHZhbGlkIHRpdGxlIG9uIHdlYiB2aWV3JywgYXN5bmMgKCkgPT4ge1xuICAgIChhd2FpdCBkcml2ZXIudGl0bGUoKSkuc2hvdWxkLmluY2x1ZGUoXCJJIGFtIGEgcGFnZSB0aXRsZVwiKTtcblxuICAgIGF3YWl0IGRyaXZlci5zZXRDb250ZXh0KCdOQVRJVkVfQVBQJyk7XG4gICAgZXhwZWN0KGFzeW5jICgpID0+IGF3YWl0IGRyaXZlci50aXRsZSgpKS50by50aHJvdztcbiAgfSk7XG59KTtcbiJdfQ==