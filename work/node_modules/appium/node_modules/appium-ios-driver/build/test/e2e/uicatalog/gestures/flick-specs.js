'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _setupBase = require("../../setup-base");

var _setupBase2 = _interopRequireDefault(_setupBase);

var _desired = require('../desired');

var _desired2 = _interopRequireDefault(_desired);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

var SLOW_DOWN_MS = 1000;

// TODO: from the skip flick does not work in any supported ios,
//       (the element flick actually work, just speedFlick is broken)
//       maybe try it on real devices
describe('uicatalog - gestures - flick @skip-ios8 @skip-ios7', function () {
  var _this = this;

  var session = (0, _setupBase2['default'])(this, _desired2['default']);
  var driver = session.driver;

  afterEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(driver.flick(undefined, 0, 100));

        case 2:
          context$2$0.next = 4;
          return _regeneratorRuntime.awrap(driver.flick(undefined, 0, 100));

        case 4:
          context$2$0.next = 6;
          return _regeneratorRuntime.awrap(_bluebird2['default'].delay(SLOW_DOWN_MS));

        case 6:
        case 'end':
          return context$2$0.stop();
      }
    }, null, _this);
  });

  describe('with element', function () {
    var _this2 = this;

    it("slider value should change", function callee$2$0() {
      var els, slider, valueBefore, valueAfter;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.findElements('class name', 'UIATableCell'));

          case 2:
            els = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.click(els[10]));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.findElement('class name', "UIASlider"));

          case 7:
            slider = context$3$0.sent;
            context$3$0.next = 10;
            return _regeneratorRuntime.awrap(driver.getAttribute("value", slider));

          case 10:
            valueBefore = context$3$0.sent;
            context$3$0.next = 13;
            return _regeneratorRuntime.awrap(driver.flick(slider, undefined, undefined, -0.5, 0, 1));

          case 13:
            context$3$0.next = 15;
            return _regeneratorRuntime.awrap(driver.getAttribute("value", slider));

          case 15:
            valueAfter = context$3$0.sent;

            valueBefore.should.not.equal("0%");
            valueAfter.should.equal("0%");

          case 18:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this2);
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL3VpY2F0YWxvZy9nZXN0dXJlcy9mbGljay1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7eUJBQWtCLGtCQUFrQjs7Ozt1QkFDaEIsWUFBWTs7Ozt3QkFDbEIsVUFBVTs7OztBQUV4QixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUM7Ozs7O0FBS3hCLFFBQVEsQ0FBQyxvREFBb0QsRUFBRSxZQUFZOzs7QUFDekUsTUFBSSxPQUFPLEdBQUcsNEJBQU0sSUFBSSx1QkFBVSxDQUFDO0FBQ25DLE1BQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7O0FBRTVCLFdBQVMsQ0FBQzs7Ozs7MkNBQ0YsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQzs7OzsyQ0FDL0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQzs7OzsyQ0FDL0Isc0JBQUUsS0FBSyxDQUFDLFlBQVksQ0FBQzs7Ozs7OztHQUM1QixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsRUFBRSxZQUFZOzs7QUFFbkMsTUFBRSxDQUFDLDRCQUE0QixFQUFFO1VBQzNCLEdBQUcsRUFFSCxNQUFNLEVBQ04sV0FBVyxFQUVYLFVBQVU7Ozs7OzZDQUxFLE1BQU0sQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLGNBQWMsQ0FBQzs7O0FBQTdELGVBQUc7OzZDQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDOzs7OzZDQUNSLE1BQU0sQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQzs7O0FBQTVELGtCQUFNOzs2Q0FDYyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7OztBQUF4RCx1QkFBVzs7NkNBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDOzs7OzZDQUNyQyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7OztBQUF2RCxzQkFBVTs7QUFDZCx1QkFBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLHNCQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7OztLQUMvQixDQUFDLENBQUM7R0FFSixDQUFDLENBQUM7Q0FFSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvdWljYXRhbG9nL2dlc3R1cmVzL2ZsaWNrLXNwZWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNldHVwIGZyb20gXCIuLi8uLi9zZXR1cC1iYXNlXCI7XG5pbXBvcnQgZGVzaXJlZCBmcm9tICcuLi9kZXNpcmVkJztcbmltcG9ydCBCIGZyb20gJ2JsdWViaXJkJztcblxubGV0IFNMT1dfRE9XTl9NUyA9IDEwMDA7XG5cbi8vIFRPRE86IGZyb20gdGhlIHNraXAgZmxpY2sgZG9lcyBub3Qgd29yayBpbiBhbnkgc3VwcG9ydGVkIGlvcyxcbi8vICAgICAgICh0aGUgZWxlbWVudCBmbGljayBhY3R1YWxseSB3b3JrLCBqdXN0IHNwZWVkRmxpY2sgaXMgYnJva2VuKVxuLy8gICAgICAgbWF5YmUgdHJ5IGl0IG9uIHJlYWwgZGV2aWNlc1xuZGVzY3JpYmUoJ3VpY2F0YWxvZyAtIGdlc3R1cmVzIC0gZmxpY2sgQHNraXAtaW9zOCBAc2tpcC1pb3M3JywgZnVuY3Rpb24gKCkge1xuICBsZXQgc2Vzc2lvbiA9IHNldHVwKHRoaXMsIGRlc2lyZWQpO1xuICBsZXQgZHJpdmVyID0gc2Vzc2lvbi5kcml2ZXI7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBkcml2ZXIuZmxpY2sodW5kZWZpbmVkLCAwLCAxMDApO1xuICAgIGF3YWl0IGRyaXZlci5mbGljayh1bmRlZmluZWQsIDAsIDEwMCk7XG4gICAgYXdhaXQgQi5kZWxheShTTE9XX0RPV05fTVMpO1xuICB9KTtcblxuICBkZXNjcmliZSgnd2l0aCBlbGVtZW50JywgZnVuY3Rpb24gKCkge1xuXG4gICAgaXQoXCJzbGlkZXIgdmFsdWUgc2hvdWxkIGNoYW5nZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWxzID0gYXdhaXQgZHJpdmVyLmZpbmRFbGVtZW50cygnY2xhc3MgbmFtZScsICdVSUFUYWJsZUNlbGwnKTtcbiAgICAgIGF3YWl0IGRyaXZlci5jbGljayhlbHNbMTBdKTtcbiAgICAgIGxldCBzbGlkZXIgPSBhd2FpdCBkcml2ZXIuZmluZEVsZW1lbnQoJ2NsYXNzIG5hbWUnLCBcIlVJQVNsaWRlclwiKTtcbiAgICAgIGxldCB2YWx1ZUJlZm9yZSA9IGF3YWl0IGRyaXZlci5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBzbGlkZXIpO1xuICAgICAgYXdhaXQgZHJpdmVyLmZsaWNrKHNsaWRlciwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIC0wLjUsIDAsIDEpO1xuICAgICAgbGV0IHZhbHVlQWZ0ZXIgPSBhd2FpdCBkcml2ZXIuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiwgc2xpZGVyKTtcbiAgICAgIHZhbHVlQmVmb3JlLnNob3VsZC5ub3QuZXF1YWwoXCIwJVwiKTtcbiAgICAgIHZhbHVlQWZ0ZXIuc2hvdWxkLmVxdWFsKFwiMCVcIik7XG4gICAgfSk7XG5cbiAgfSk7XG5cbn0pO1xuIl19